<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ä½ åŸæœ¬çš„ login UIï¼ˆä¸è¦æ±‚å’Œæˆ‘è¿™æ®µä¸€æ¨¡ä¸€æ ·ï¼‰ -->
  <h2>ãƒ­ã‚°ã‚¤ãƒ³</h2>

  <input type="email" id="email" placeholder="Email">
  <input type="password" id="password" placeholder="Password">
  <button id="loginBtn">Login</button>

  <hr>

  <h3>æ–°è¦ç™»éŒ²</h3>
  <input type="email" id="regEmail" placeholder="Email">
  <input type="password" id="regPassword" placeholder="Password">
  <button id="registerBtn">Register</button>

  <hr>

  <h3>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¿˜ã‚ŒãŸå ´åˆ</h3>
  <input type="email" id="resetEmail" placeholder="Email">
  <button id="resetBtn">Reset Password</button>

  <!-- Firebase compat -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>

  <script>
    // ğŸ”´ ç”¨ä½ è‡ªå·±é¡¹ç›®é‡Œçš„ config
    const firebaseConfig = {
      apiKey: "YOUR_KEY",
      authDomain: "YOUR_DOMAIN",
      projectId: "YOUR_PROJECT_ID",
    };

    firebase.initializeApp(firebaseConfig);

    const auth = firebase.auth();
    const db = firebase.firestore();

    // ç™»å½•
    document.getElementById("loginBtn").onclick = async () => {
      const email = document.getElementById("email").value;
      const pass = document.getElementById("password").value;
      await auth.signInWithEmailAndPassword(email, pass);
      // âš ï¸è¿™é‡Œä¸ç”¨å†™è·³è½¬ï¼Œauth-guard.js ä¼šç»Ÿä¸€å¤„ç†
    };

    // æ³¨å†Œ
    document.getElementById("registerBtn").onclick = async () => {
      const email = document.getElementById("regEmail").value;
      const pass = document.getElementById("regPassword").value;
      await auth.createUserWithEmailAndPassword(email, pass);
    };

    // å¿˜è®°å¯†ç 
    document.getElementById("resetBtn").onclick = async () => {
      const email = document.getElementById("resetEmail").value;
      await auth.sendPasswordResetEmail(email);
      alert("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å†è¨­å®šãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡ã—ã¾ã—ãŸ");
    };
  </script>

  <!-- âœ… å¿…é¡»æœ‰ï¼šå…¨ç«™ç™»å½•æ§åˆ¶ -->
  <script src="auth-guard.js"></script>
</body>
</html>