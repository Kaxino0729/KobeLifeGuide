<!-- æ–‡ä»¶å: procedure.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>æ‰‹ç¶šãã‚¬ã‚¤ãƒ‰ï¼ˆWikié¢¨ãƒ»ãƒ„ãƒªãƒ¼ï¼‰</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <!-- Markdown editor/viewer libs -->
  <link rel="stylesheet" href="https://unpkg.com/easymde/dist/easymde.min.css" />

  <style>
    /* ===== Layout ===== */

    /* â˜… æ–°å¢ï¼šè®©ä¸­é—´åŒºåŸŸå¯ä»¥ç”¨å‰©ä¸‹çš„é«˜åº¦ï¼Œå¹¶å…è®¸å†…éƒ¨æ»šåŠ¨ */
    html, body {
      height: 100%;
    }
    body {
      margin: 0;
      display: flex;
      flex-direction: column;
    }

    header {
      padding: 12px 16px;
      flex: 0 0 auto;
    }

    .layout {
      display: grid;
      grid-template-columns: 280px 1fr;
      gap: 0;
      /* header + footer çº¦ 120px é«˜åº¦ï¼Œå…¶ä½™ç»™ä¸­é—´åŒºåŸŸ */
      height: calc(100vh - 120px);
      flex: 1 1 auto;
      overflow: hidden; /* é˜²æ­¢ä¸­é—´åŒºåŸŸæ— é™æ‹‰é•¿ï¼Œå†…éƒ¨æ»šåŠ¨ */
    }

    @media (max-width: 900px){
      .layout { grid-template-columns: 1fr; }
      .sidebar { order:2; }
      .content { order:1; }
    }

    .sidebar {
      border-right:1px solid #e6e6e6;
      padding:12px 10px;
      background:#fafafa;
      overflow-y: auto;  /* â˜… å·¦è¾¹ç›®å½•å¯æ»šåŠ¨ */
    }

    .content {
      padding:14px 16px;
      background:#fff;
      overflow-y: auto;  /* â˜… å³è¾¹æ­£æ–‡ / viewer å¯æ»šåŠ¨ */
    }

    /* ===== Toolbar (top of content) ===== */
    .toolbar {
      display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-bottom:12px;
    }
    .toolbar input, .toolbar select {
      padding:8px; border:1px solid #ccc; border-radius:8px;
    }
    .toolbar .search { flex:1; min-width:220px; }
    .btn { padding:8px 12px; border-radius:8px; background:#0a66c2; color:#fff; text-decoration:none; border:none; cursor:pointer; }
    .btn-secondary { background:#e5e7eb; color:#111; }

    /* ===== Tree ===== */
    .tree-search { margin-bottom:10px; }
    .tree-search input { width:100%; padding:8px; border:1px solid #ccc; border-radius:8px; }
    .tree { list-style:none; margin:0; padding-left:0; }
    .tree .cat {
      margin:6px 0; border:1px solid #e6e6e6; background:#fff; border-radius:8px;
    }
    .cat-head {
      display:flex; align-items:center; gap:6px; padding:8px 10px; cursor:pointer; user-select:none;
    }
    .cat-head .caret {
      transition: transform .15s;
    }
    .cat.collapsed .caret { transform: rotate(-90deg); }
    .cat-body { padding:4px 4px 8px 28px; display:block; }
    .cat.collapsed .cat-body { display:none; }
    .doc {
      padding:6px 8px; margin:4px 6px; border-radius:6px; cursor:pointer; border:1px solid transparent;
    }
    .doc:hover { background:#f3f6ff; border-color:#d6e4ff; }
    .doc.active { background:#e8f0fe; border-color:#90caf9; }
    .muted { color:#64748b; font-size:12px; }
    .badge { background:#eef; padding:2px 8px; border-radius:999px; font-size:12px; }
    .tag { background:#f0f9ff; color:#0369a1; padding:2px 8px; border-radius:999px; font-size:12px; margin-left:4px; }

    /* ===== Viewer ===== */
    .viewer {
      background:#fff; border:1px solid #e6e6e6; border-radius:12px; padding:16px;
    }
    .viewer h2 { margin-top:0; }
    .meta { color:#64748b; font-size:12px; display:flex; gap:8px; flex-wrap:wrap; margin-bottom:8px; }

    /* ===== Modal editor ===== */
    .modal-backdrop{
      position:fixed; inset:0; background:rgba(0,0,0,.35);
      display:none; align-items:center; justify-content:center; z-index:1000
    }

    /* â˜… ä¿®æ”¹ï¼šmodal é«˜åº¦é™åˆ¶ + å†…éƒ¨å¯æ»šåŠ¨ï¼Œé˜²æ­¢æŒ‰é’®è¢«æŒ¤å‡ºå±å¹• */
    .modal{
      background:#fff;
      max-width:960px;
      width:92%;
      max-height:90vh;           /* é™åˆ¶æœ€å¤§é«˜åº¦ */
      border-radius:12px;
      box-shadow:0 10px 30px rgba(0,0,0,.25);
      display:flex;
      flex-direction:column;
    }
    .modal header{
      display:flex; justify-content:space-between; align-items:center;
      padding:10px 14px; border-bottom:1px solid #eee;
      flex:0 0 auto;
    }
    .modal .body{
      padding:12px 14px;
      flex:1 1 auto;
      overflow-y:auto;           /* â˜… å†…å®¹åŒºåŸŸå¯æ»šåŠ¨ */
    }
    .modal .row{
      display:grid; grid-template-columns:120px 1fr;
      gap:10px; margin:8px 0
    }
    .modal input,.modal select,.modal textarea{
      width:100%; padding:8px; border:1px solid #ccc; border-radius:8px
    }
    .modal footer{
      display:flex; gap:10px; justify-content:flex-end;
      padding:10px 14px; border-top:1px solid #eee;
      flex:0 0 auto;
    }
    .danger{ background:#dc2626; color:#fff; }
    @media (max-width:640px){
      .modal .row{ grid-template-columns:1fr }
    }

    .hidden{ display:none; }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ“„ æ‰‹ç¶šãã‚¬ã‚¤ãƒ‰ï¼ˆç•™å­¦ç”Ÿå‘ã‘ï¼‰</h1>
    <nav class="navbar">
      <a href="index.html" class="btn">ğŸ  ãƒ›ãƒ¼ãƒ </a>
      <a href="procedure.html" class="btn">ğŸ“„ æ‰‹ç¶šãã‚¬ã‚¤ãƒ‰</a>
      <a href="map.html" class="btn">ğŸ—ºï¸ ãƒãƒƒãƒ—</a>
      <a href="review.html" class="btn">â­ ãƒ¬ãƒ“ãƒ¥ãƒ¼</a>
      <a href="search.html" class="btn">ğŸ” æ¤œç´¢</a>
      <a href="profile.html" class="btn">ğŸ‘¤ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</a>
      <a href="login.html" class="btn">ğŸ” ãƒ­ã‚°ã‚¤ãƒ³</a>
      <a href="admin.html" class="btn admin-only">ğŸ›  ç®¡ç†</a>
    </nav>
  </header>

  <div class="layout">
    <!-- ===== Left: Tree ===== -->
    <aside class="sidebar">
      <div class="tree-search">
        <input id="treeQ" type="search" placeholder="ğŸ” ã‚¿ã‚¤ãƒˆãƒ«ãƒ»ã‚¿ã‚°ã§æ¤œç´¢">
      </div>
      <ul id="tree" class="tree"></ul>
    </aside>

    <!-- ===== Right: Content ===== -->
    <section class="content">
      <div class="toolbar">
        <div class="search">
          <input id="q" type="search" placeholder="ğŸ” å…¨æ–‡æ¤œç´¢ï¼ˆæœ¬æ–‡ã‚‚å¯¾è±¡ï¼‰">
        </div>
        <select id="catSel">
          <option value="">ã™ã¹ã¦ã®ã‚«ãƒ†ã‚´ãƒª</option>
          <option>SIMãƒ»é€šä¿¡</option>
          <option>ä½ã¾ã„ãƒ»è³ƒè²¸</option>
          <option>éŠ€è¡Œãƒ»å£åº§</option>
          <option>å¸‚å½¹æ‰€ãƒ»åœ¨ç•™</option>
          <option>å­¦æ ¡ãƒ»å­¦ç±</option>
          <option>ä»•äº‹ãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ</option>
          <option>ãã®ä»–</option>
        </select>
        <input id="tag" type="text" placeholder="ã‚¿ã‚°ï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šå¯ï¼‰">
        <button id="newBtn" class="btn admin-only">ï¼‹ æ–°è¦ä½œæˆ</button>
      </div>

      <article id="viewer" class="viewer hidden">
        <h2 id="vTitle">ã‚¿ã‚¤ãƒˆãƒ«</h2>
        <div class="meta" id="vMeta"></div>
        <div id="vBody" style="margin-top:12px"></div>
        <div id="vOps" class="hidden" style="margin-top:10px;">
          <button id="editBtn" class="btn btn-secondary admin-only">ç·¨é›†</button>
          <button id="delBtn" class="btn danger admin-only">å‰Šé™¤</button>
        </div>
      </article>

      <p id="hint" class="muted">å·¦å´ã®ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰ã‚¬ã‚¤ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚</p>
    </section>
  </div>

  <footer>
    <p style="padding:10px 16px;">&copy; 2025 ç¥æˆ¸å¤–å›½äººæ”¯æ´ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</p>
  </footer>

  <!-- ===== Modal: editor ===== -->
  <div class="modal-backdrop" id="modalWrap">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <header>
        <h3 id="modalTitle">ã‚¬ã‚¤ãƒ‰ç·¨é›†</h3>
        <button id="closeModal" class="btn btn-secondary">âœ–</button>
      </header>
      <div class="body">
        <div class="row">
          <label>ã‚¿ã‚¤ãƒˆãƒ«</label>
          <input id="fTitle" type="text" placeholder="ä¾‹ï¼šSIMã‚«ãƒ¼ãƒ‰ã®å¥‘ç´„æ‰‹é †ï¼ˆæœªæˆå¹´ã®å ´åˆï¼‰">
        </div>
        <div class="row">
          <label>ã‚«ãƒ†ã‚´ãƒª</label>
          <select id="fCat">
            <option>SIMãƒ»é€šä¿¡</option>
            <option>ä½ã¾ã„ãƒ»è³ƒè²¸</option>
            <option>éŠ€è¡Œãƒ»å£åº§</option>
            <option>å¸‚å½¹æ‰€ãƒ»åœ¨ç•™</option>
            <option>å­¦æ ¡ãƒ»å­¦ç±</option>
            <option>ä»•äº‹ãƒ»ã‚¢ãƒ«ãƒã‚¤ãƒˆ</option>
            <option>ãã®ä»–</option>
          </select>
        </div>
        <div class="row">
          <label>ã‚¿ã‚°</label>
          <input id="fTags" type="text" placeholder="ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼šæœªæˆå¹´, ä¿é™º, ãƒã‚¤ãƒŠãƒ³ãƒãƒ¼">
        </div>
        <div class="row" style="display:block">
          <label style="display:block;margin-bottom:6px">æœ¬æ–‡ï¼ˆMarkdownï¼‰</label>
          <textarea id="fBody"></textarea>
        </div>
        <div class="row">
          <label>å…¬é–‹</label>
          <select id="fPublished">
            <option value="true">å…¬é–‹</option>
            <option value="false">éå…¬é–‹ï¼ˆä¸‹æ›¸ãï¼‰</option>
          </select>
        </div>
      </div>
      <footer>
        <button id="saveBtn" class="btn">ä¿å­˜</button>
      </footer>
    </div>
  </div>

  <!-- ===== Firebase & libs ===== -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script src="https://unpkg.com/easymde/dist/easymde.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <script>
    /* ==== Auth banner & role gating ==== */
    const ROLE  = localStorage.getItem("auth_role") || "user";
    const EMAIL = localStorage.getItem("auth_email") || null;
    const UID   = localStorage.getItem("auth_uid") || null;
    (function () {
      if (EMAIL) {
        const bar = document.createElement("div");
        bar.style.textAlign = "center";
        bar.style.padding = "6px";
        bar.style.background = "#f0f4f8";
        bar.style.color = "#333";
        bar.style.fontSize = "14px";
        bar.textContent = `ãƒ­ã‚°ã‚¤ãƒ³ä¸­: ${EMAIL}ï¼ˆå½¹å‰²: ${ROLE}ï¼‰`;
        document.body.prepend(bar);
      }
      if (ROLE !== "admin") document.querySelectorAll(".admin-only").forEach(el => el.style.display = "none");
    })();

    /* ==== Firebase ==== */
    const firebaseConfig = {
      apiKey: "AIzaSyDg-vCkfk4ys_m3oWLlCV0D-ZHcj4EtJ4g",
      authDomain: "kobe-life-guide.firebaseapp.com",
      projectId: "kobe-life-guide",
      storageBucket: "kobe-life-guide.firebasestorage.app",
      messagingSenderId: "440390213094",
      appId: "1:440390213094:web:508d4e03409ca338b54a27"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    /* ==== DOM refs ==== */
    const $tree = document.getElementById("tree");
    const $treeQ = document.getElementById("treeQ");
    const $q = document.getElementById("q");
    const $catSel = document.getElementById("catSel");
    const $tag = document.getElementById("tag");
    const $viewer = document.getElementById("viewer");
    const $vTitle = document.getElementById("vTitle");
    const $vMeta = document.getElementById("vMeta");
    const $vBody = document.getElementById("vBody");
    const $vOps = document.getElementById("vOps");
    const $hint = document.getElementById("hint");

    const $modalWrap = document.getElementById("modalWrap");
    const $modalTitle = document.getElementById("modalTitle");
    const $closeModal = document.getElementById("closeModal");
    const $newBtn = document.getElementById("newBtn");
    const $saveBtn = document.getElementById("saveBtn");

    const $fTitle = document.getElementById("fTitle");
    const $fCat = document.getElementById("fCat");
    const $fTags = document.getElementById("fTags");
    const $fBody = document.getElementById("fBody");
    const $fPublished = document.getElementById("fPublished");

    let editor = null;
    let guides = [];
    let filtered = [];
    let activeId = null;

    function ensureEditor(){
      if (!editor) {
        editor = new EasyMDE({
          element: $fBody,
          spellChecker: false,
          minHeight: "220px",
          renderingConfig: { singleLineBreaks: false },
          autofocus: false,
          status: false,
          toolbar: [
            "bold", "italic", "heading", "|",
            "quote", "unordered-list", "ordered-list", "|",
            "link", "table", "|",
            "preview", "side-by-side", "fullscreen", "guide"
          ],
          previewRender: (plainText, preview) => {
            if (typeof marked !== "undefined") {
              preview.innerHTML = marked.parse(plainText);
            } else {
              preview.innerHTML = plainText;
            }
            return preview.innerHTML;
          }
        });
        setTimeout(() => {
          try { editor.toggleSideBySide(); } catch (e) { console.warn("toggleSideBySide failed:", e); }
        }, 0);
      }
    }

    function openModal(title="ã‚¬ã‚¤ãƒ‰ç·¨é›†", doc=null){
      if (ROLE !== "admin") return alert("æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚");
      ensureEditor();
      $modalTitle.textContent = title;
      $modalWrap.style.display = "flex";
      if (doc){
        $fTitle.value = doc.title || "";
        $fCat.value = doc.category || "ãã®ä»–";
        $fTags.value = (doc.tags||[]).join(", ");
        editor.value(doc.body || "");
        $fPublished.value = String(!!doc.published);
      } else {
        $fTitle.value = "";
        $fCat.value = "SIMãƒ»é€šä¿¡";
        $fTags.value = "";
        editor.value("");
        $fPublished.value = "true";
      }
    }
    function closeModal(){
      $modalWrap.style.display = "none";
    }
    $closeModal.onclick = closeModal;

    async function loadGuides(){
      const snap = await db.collection("guides").orderBy("updatedAt","desc").limit(200).get();
      guides = snap.docs.map(d => ({ id:d.id, ...d.data() }));
      applyFiltersAndRenderTree();
      const p = new URLSearchParams(location.search);
      const id = p.get("guide");
      if (id){
        const g = guides.find(x=>x.id===id);
        if (g && (g.published || ROLE==="admin")) openDoc(g);
      }
    }

    function applyFiltersAndRenderTree(){
      const tq = ($treeQ.value||"").toLowerCase().trim();
      const q = ($q.value||"").toLowerCase().trim();
      const cat = ($catSel.value||"").trim();
      const tags = ($tag.value||"").toLowerCase().split(",").map(s=>s.trim()).filter(Boolean);

      filtered = guides.filter(g=>{
        if (!g.published && ROLE!=="admin") return false;
        if (cat && g.category!==cat) return false;
        if (tags.length && !(g.tags||[]).some(t=> tags.some(k=> (t||"").toLowerCase().includes(k)))) return false;
        const needle = (g.title||"") + " " + (g.tags||[]).join(",") + " " + (g.body||"");
        const hitTree = !tq || ((g.title||"").toLowerCase().includes(tq) || (g.tags||[]).join(",").toLowerCase().includes(tq));
        const hitFull = !q || needle.toLowerCase().includes(q);
        return hitTree && hitFull;
      });

      renderTree(filtered);
    }

    function renderTree(items){
      const byCat = {};
      items.forEach(g=>{
        const c = g.category || "ãã®ä»–";
        (byCat[c] ||= []).push(g);
      });

      const cats = Object.keys(byCat).sort((a,b)=>a.localeCompare(b,'ja'));

      $tree.innerHTML = cats.map(cat=>{
        const arr = byCat[cat].slice().sort((a,b)=> (a.title||"").localeCompare(b.title||"",'ja'));
        const children = arr.map(g=>{
          const tags = (g.tags||[]).map(t=>`<span class="tag">${t}</span>`).join("");
          const draft = g.published ? "" : `<span class="badge" style="background:#fee2e2;color:#b91c1c">ä¸‹æ›¸ã</span>`;
          const isActive = g.id===activeId ? "active" : "";
          return `
            <div class="doc ${isActive}" data-id="${g.id}">
              <div><strong>${g.title||"(ç„¡é¡Œ)"}</strong> ${draft}</div>
              <div class="muted">${tags}</div>
            </div>
          `;
        }).join("");

        return `
          <li class="cat">
            <div class="cat-head">
              <i class="fa-solid fa-caret-down caret"></i>
              <span class="badge">${cat}</span>
              <span class="muted">ï¼ˆ${arr.length}ï¼‰</span>
            </div>
            <div class="cat-body">${children || `<div class="muted" style="padding:6px 10px;">é …ç›®ãŒã‚ã‚Šã¾ã›ã‚“</div>`}</div>
          </li>
        `;
      }).join("") || `<li><p class="muted">è©²å½“ã™ã‚‹ã‚¬ã‚¤ãƒ‰ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p></li>`;

      $tree.querySelectorAll(".cat .cat-head").forEach(head=>{
        head.onclick = ()=> head.parentElement.classList.toggle("collapsed");
      });
      $tree.querySelectorAll(".doc").forEach(node=>{
        node.onclick = ()=>{
          const id = node.dataset.id;
          const g = guides.find(x=>x.id===id);
          if (g) openDoc(g);
        };
      });
    }

    function openDoc(g){
      activeId = g.id;
      $tree.querySelectorAll(".doc").forEach(n=> n.classList.toggle("active", n.dataset.id===activeId));
      $viewer.classList.remove("hidden");
      $hint.classList.add("hidden");
      $vTitle.textContent = g.title || "(ç„¡é¡Œ)";
      const d = g.updatedAt?.toDate ? g.updatedAt.toDate() : new Date();
      const dstr = `${d.getFullYear()}/${d.getMonth()+1}/${d.getDate()}`;
      const tags = (g.tags||[]).map(t=>`<span class="tag">${t}</span>`).join(" ");
      const draft = g.published ? "" : `<span class="badge" style="background:#fee2e2;color:#b91c1c">ä¸‹æ›¸ã</span>`;
      $vMeta.innerHTML = `
        <span class="badge">${g.category||"ãã®ä»–"}</span>
        ${draft}
        ${tags}
        <span class="muted">æ›´æ–°æ—¥ï¼š${dstr}</span>
      `;
      $vBody.innerHTML = marked.parse(g.body||"_ï¼ˆæœ¬æ–‡ãªã—ï¼‰_");

      if (ROLE==="admin") {
        document.getElementById("vOps").classList.remove("hidden");
        document.getElementById("editBtn").onclick = ()=> openModal("ã‚¬ã‚¤ãƒ‰ç·¨é›†", g);
        document.getElementById("delBtn").onclick = async ()=>{
          if (!confirm("ã“ã®ã‚¬ã‚¤ãƒ‰ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")) return;
          await db.collection("guides").doc(g.id).delete();
          await loadGuides();
          $viewer.classList.add("hidden");
          $hint.classList.remove("hidden");
          alert("å‰Šé™¤ã—ã¾ã—ãŸã€‚");
        };
      } else {
        document.getElementById("vOps").classList.add("hidden");
      }

      const url = new URL(location.href);
      url.searchParams.set("guide", g.id);
      history.replaceState(null, "", url.toString());
    }

    document.getElementById("saveBtn").onclick = async ()=>{
      if (ROLE!=="admin") return alert("æ¨©é™ãŒã‚ã‚Šã¾ã›ã‚“ã€‚");
      const title = $fTitle.value.trim();
      const category = $fCat.value.trim() || "ãã®ä»–";
      const tags = ($fTags.value||"").split(",").map(s=>s.trim()).filter(Boolean);
      const body = editor ? editor.value() : ($fBody.value || "");
      const published = $fPublished.value === "true";
      if (!title) return alert("ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");

      const payload = {
        title, category, tags, body, published,
        updatedAt: new Date(),
        author: { uid: UID||null, email: EMAIL||null }
      };

      try{
        const p = new URLSearchParams(location.search);
        const currentId = p.get("guide");
        if (currentId) {
          await db.collection("guides").doc(currentId).set(payload, { merge:true });
          closeModal();
          await loadGuides();
          const g = guides.find(x=>x.id===currentId);
          if (g) openDoc(g);
        } else {
          const ref = await db.collection("guides").add(payload);
          closeModal();
          await loadGuides();
          const g = guides.find(x=>x.id===ref.id);
          if (g) openDoc(g);
        }
        alert("ä¿å­˜ã—ã¾ã—ãŸã€‚");
      }catch(e){
        console.error(e);
        alert("ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚æ¨©é™/ãƒ«ãƒ¼ãƒ«ã‚’ã”ç¢ºèªãã ã•ã„ã€‚");
      }
    };

    $newBtn && ($newBtn.onclick = ()=>{
      const url = new URL(location.href);
      url.searchParams.delete("guide");
      history.replaceState(null, "", url.toString());
      openModal("ã‚¬ã‚¤ãƒ‰æ–°è¦");
    });

    [$treeQ, $q, $catSel, $tag].forEach(el => el.addEventListener("input", applyFiltersAndRenderTree));

    loadGuides().catch(console.error);
  </script>
  <script src="auth-guard.js"></script>
</body>
</html>
